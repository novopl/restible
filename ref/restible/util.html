

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>restible.util &mdash; restible 0.12 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="restible.model" href="model.html" />
    <link rel="prev" title="restible.exc" href="exc.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> restible
          

          
          </a>

          
            
            
              <div class="version">
                0.12
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Code Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="exc.html"><code class="docutils literal notranslate"><span class="pre">restible.exc</span></code></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">restible.util</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html"><code class="docutils literal notranslate"><span class="pre">restible.model</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="url_params.html"><code class="docutils literal notranslate"><span class="pre">restible.url_params</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="resource.html"><code class="docutils literal notranslate"><span class="pre">restible.resource</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="actions.html"><code class="docutils literal notranslate"><span class="pre">restible.actions</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html"><code class="docutils literal notranslate"><span class="pre">restible.routing</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint.html"><code class="docutils literal notranslate"><span class="pre">restible.endpoint</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contrib.html">Working with the code base</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">restible</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html"><code class="docutils literal notranslate"><span class="pre">restible</span></code></a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">restible.util</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/ref/restible/util.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-restible.util">
<span id="restible-util"></span><h1><code class="docutils literal notranslate"><span class="pre">restible.util</span></code><a class="headerlink" href="#module-restible.util" title="Permalink to this headline">¶</a></h1>
<p>Various helpers.</p>
<dl class="class">
<dt id="restible.util.QsFilter">
<em class="property">class </em><code class="descclassname">restible.util.</code><code class="descname">QsFilter</code><span class="sig-paren">(</span><em>name: str</em>, <em>op: str</em>, <em>op_fn: str</em>, <em>value: Any</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/restible/util.html#QsFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#restible.util.QsFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>A halper class for parsing query string into db filters.</p>
<dl class="classmethod">
<dt id="restible.util.QsFilter.build">
<em class="property">classmethod </em><code class="descname">build</code><span class="sig-paren">(</span><em>op_map</em>, <em>param_name</em>, <em>param_value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/restible/util.html#QsFilter.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#restible.util.QsFilter.build" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>op_map (dict[str, str]):</dt><dd><p>Operator map. This maps the query string op to a method that
will implement this operator on the model.</p>
</dd>
<dt>param_name (str):</dt><dd><p>The field name as passed in the query string parameter.</p>
</dd>
<dt>param_value (Any):</dt><dd><p>The filter value as passed in the query string parameter.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>QsFilter:</dt><dd><p>A <a class="reference internal" href="#restible.util.QsFilter" title="restible.util.QsFilter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QsFilter</span></code></a> instance that can be then called on model class to
generate the actual query filter.</p>
</dd>
</dl>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">restible.util</span> <span class="k">import</span> <span class="n">QsFilter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ?name=John&amp;age__gt=18</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;age__gt&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">OP_MAP</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;eq&#39;</span><span class="p">:</span> <span class="s1">&#39;__eq__&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;ne&#39;</span><span class="p">:</span> <span class="s1">&#39;__ne__&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;lt&#39;</span><span class="p">:</span> <span class="s1">&#39;__lt__&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;gt&#39;</span><span class="p">:</span> <span class="s1">&#39;__gt__&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;le&#39;</span><span class="p">:</span> <span class="s1">&#39;__le__&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;ge&#39;</span><span class="p">:</span> <span class="s1">&#39;__ge__&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;in&#39;</span><span class="p">:</span> <span class="s1">&#39;in_&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filters</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="n">QsFilter</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">OP_MAP</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="gp">... </span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="restible.util.iter_public_props">
<code class="descclassname">restible.util.</code><code class="descname">iter_public_props</code><span class="sig-paren">(</span><em>obj</em>, <em>predicate=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/restible/util.html#iter_public_props"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#restible.util.iter_public_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over public properties of an object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>Any</em>) – The object we want to get the properties of.</p></li>
<li><p><strong>predicate</strong> (<em>function</em>) – Additional predicate to filter out properties we’re interested in. This
function will be called on every property of the object with the
property name and value as it arguments. If it returns True, the
property will be yielded by this generator.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="restible.util.update_from_values">
<code class="descclassname">restible.util.</code><code class="descname">update_from_values</code><span class="sig-paren">(</span><em>obj</em>, <em>values</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/restible/util.html#update_from_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#restible.util.update_from_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Update object attributes from a dict of values.</p>
<p>This is a small helper to update any object with values from a dictionary.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>obj (object):
values (dict[str, Any]):</p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">restible</span> <span class="k">import</span> <span class="n">util</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>     <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;John&#39;</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">35</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">util</span><span class="o">.</span><span class="n">update_from_values</span><span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Dave&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">28</span><span class="p">,</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;Dave&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">age</span>
<span class="go">28</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="model.html" class="btn btn-neutral float-right" title="restible.model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="exc.html" class="btn btn-neutral" title="restible.exc" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2017, Mateusz &#39;novo&#39; Klos.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.12',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>